window.require=function(e){switch(e){case"@apollo/client":return window.PluginApi.libraries.Apollo;case"@fortawesome/free-regular-svg-icons":return window.PluginApi.libraries.FontAwesomeRegular;case"@fortawesome/free-solid-svg-icons":return window.PluginApi.libraries.FontAwesomeSolid;case"mousetrap":return window.PluginApi.libraries.Mousetrap;case"mousetrap-pause":return window.PluginApi.libraries.MousetrapPause;case"react":return window.PluginApi.React;case"react-bootstrap":return window.PluginApi.libraries.Bootstrap;case"react-dom":return window.PluginApi.ReactDOM;case"react-intl":return window.PluginApi.libraries.Intl;case"react-router-dom":return window.PluginApi.libraries.ReactRouterDOM;case"react-select":return window.PluginApi.libraries.ReactSelect}};var e=require("react");function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var i,o=r((t||(t=1,i=n,function(){var e={}.hasOwnProperty;function r(){for(var e="",r=0;r<arguments.length;r++){var i=arguments[r];i&&(e=n(e,t(i)))}return e}function t(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return r.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var i="";for(var o in t)e.call(t,o)&&t[o]&&(i=n(i,o));return i}function n(e,r){return r?e?e+" "+r:e+r:e}i.exports?(r.default=r,i.exports=r):window.classNames=r}()),n.exports));function a(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t}"function"==typeof SuppressedError&&SuppressedError;const l=r=>{var t,n,i,o,l,c,d,p,g,{performer:m}=r,v=a(r,["performer"]);const{hovercard_image:f,hovercard_video:w}=m.custom_fields,b=f?e.createElement(s,{hovercard_image:f,preferOriginalImage:null!==(n=null===(t=v.config)||void 0===t?void 0:t.preferOriginalImage)&&void 0!==n&&n}):null,y=w?e.createElement(u,{hovercard_video:w,preferFullVideos:null!==(o=null===(i=v.config)||void 0===i?void 0:i.preferFullVideos)&&void 0!==o&&o,soundActive:null!==(d=null===(c=null===(l=v.stashSettings)||void 0===l?void 0:l.interface)||void 0===c?void 0:c.soundOnPreview)&&void 0!==d&&d}):null;return e.createElement("div",{className:"image-wrapper"},e.createElement("img",{loading:"lazy",className:"performer-card-image main-image",alt:null!==(p=m.name)&&void 0!==p?p:"",src:null!==(g=m.image_path)&&void 0!==g?g:""}),null!=y?y:b)},s=r=>{var{hovercard_image:t}=r;const n=a(r,["hovercard_image"]).preferOriginalImage?"/image":"/thumbnail",i="number"==typeof t?"/image/"+t+n:t;return e.createElement("img",{loading:"lazy",className:"performer-card-image hover-image",src:i})},u=r=>{var{hovercard_video:t,soundActive:n}=r,i=a(r,["hovercard_video","soundActive"]);const o=e.useRef(null);e.useEffect((()=>{var e;(null===(e=null==o?void 0:o.current)||void 0===e?void 0:e.volume)&&(o.current.volume=n?.05:0)}),[n]);const l=i.preferFullVideos?"/stream":"/preview",s="number"==typeof t?"/scene/"+t+l:t;return e.createElement("video",{className:"performer-card-image hover-video",disableRemotePlayback:!0,playsInline:!0,muted:!n,loop:!0,preload:"none",onMouseOver:e=>e.target.play(),onMouseOut:e=>e.target.pause(),ref:o,src:s})},{PluginApi:c}=window;c.patch.instead("PerformerCard",(function(r,t,n){const i=o("valkyr-hover-card");return[e.createElement("div",{className:i},e.createElement(n,Object.assign({},r)))]})),c.patch.instead("PerformerCard.Image",(function(r,t,n){const i=c.GQL.useConfigurationQuery();if(!i.loading){const t=Object.assign(Object.assign({},r),{config:i.data.configuration.plugins.hovercards,stashSettings:i.data.configuration});return[e.createElement(l,Object.assign({},t))]}return[e.createElement(n,Object.assign({},r))]}));
